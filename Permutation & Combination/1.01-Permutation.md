# Permutation



令 $r$ 为正整数，对于一个 $n$ 元素集合 $S$ 的 $r$ 排序，我们理解为 $n$ 个元素中的 $r$ 个元素的有序放置。

例如：
>有 $3$ 元素集合 $S = \{a, b, c\}$
>
>那么我们称 $\{a,b\}$,$\{a,c\}$,$\{b,a\}$,$\{b,c\}$,$\{c,a\}$,$\{c,b\}$ 为 $S$ 的 $6$ 个 $2$ 排序

我们用 $P(n, r)$ 来表示 $n$ 元素集合的 $r$ 排列。

其中：
$$
P(n, r) = \frac{n!}{(n - r)!}
$$
证明：

我们可以设想有 $r$ 个空格，待我们从 $n$ 元素集合中不放回的抽取元素并放入。 对第一个格子，由于集合中有 $n$ 个元素，因此我们有 $n$ 种选择方式。 当第一个格子已经放置了元素后，对于第二个格子，我们仅剩下 $(n - 1)$ 个元素可以选择。 同理，当第二个格子填充后，对于第三个格子，我们有 $(n - 2)$ 种选择方式。 如此类推，直到第 $r$ 个格子，此时我们的选择方式有 $(n - r + 1)$ 种。 根据计数的乘法原理，所有格子的填充方式总数就是每个格子的填充方式的乘积，从而我们得出： 
$$
P(n, r) = n · (n - 1) · (n - 2) · ... · (n - r + 1)
$$
 由**等差数列前 $n$ 项和**公式：
$$
\begin{equation}
S_n = a_1n + \frac{n(n - 1)d}{2} = \frac{n(a_1 + a_n)}{2}
\end{equation}
$$
或者直接由**前缀和**思想：

$$
\begin{equation}
n · (n - 1) · (n - 2) · \ldots · (n - r + 1) = \frac{n!}{(n - r)!}
\end{equation}
$$
可以得到：

$$
P(n, r) = \frac{n!}{(n - r)!}
$$
证毕！



### 线性排列（Linear Permutation）

线性排列指的是一组对象的序列或线性顺序的安排。

> 考虑集合 $\{a, b, c\}$​ 的所有线性排列，我们可以将它们写成元组$\{a, b, c\}$, $\{a, c, b\}$, $\{b, a, c\}$, $\{b, c, a\}$, $\{c, a, b\}$, $\{c, b, a\}$ ，这些都是该集合的线性排列。

线性排列中，所有的元素都按照某种特定的顺序排列在一条线上，且每个元素仅占据一个位置。



### 循环排列（Loop Permutation）

循环排列或循环置换是另一种排列方式。不同之处在于，我们将对象按照某种固定的顺序排列成一个环或循环。在循环排列中，假如我们转动这个环，那么看上去排列并没有发生改变。这就是因为每个位置都可以看作是起始点。

> 考虑集合 $\{a, b, c\}$ 的所有线性排列，我们可以将它们写成元组$\{a, b, c\}$, $\{a, c, b\}$, $\{b, a, c\}$, $\{b, c, a\}$, $\{c, a, b\}$, $\{c, b, a\}$。
>
> 那么它的循环排列中：
> $\{a, b, c\} = \{b, c, a\} = \{c, a, b\}$
>
> $\{a, c, d\} = \{c, d, a\} = \{d, a, c\}$
>
> 所以它一共只有 $2$ 个循环排列。

其中：
$$
\begin{equation}
P_{\text{loop}}(n, r) = \frac{P_{\text{linear}}(n, r)}{r}
\end{equation}
$$
证明：
对于一个具有为 $r$ 个元素的圆环，我们可以将其断开为一条直线，一共有 $r$ 种断开方式（以每个元素作为起点）。对于每组 $r$ 个断开后的直线，它们对应的循环排列都是同一个。那么我们由计数的除法原理，可以得到：
$$
\begin{equation}
P_{\text{loop}}(n, r) = \frac{P_{\text{linear}}(n, r)}{r}
\end{equation}
$$
证毕！