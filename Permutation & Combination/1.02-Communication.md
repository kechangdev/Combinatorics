# Communication



设 $S$ 是 $n$ 元素集合，那么它的一个 $r$ 组合（也称 $r$ 子集） 就表示集合 $S$ 的一个由无序选择得到的大小为 $r$ 的子集。



得到：
$$
\binom{n}{r} = \frac{P(n, r)}{r!} = \frac{n!}{(n-r)! r!}
$$


证明如下：

假设存在集合 $S$， 要得到它的 $r$ 排列，我们需要通过下面的两个步骤：

- 从 $S$ 中选择 $r$ 个元素
- 将这 $r$ 个元素按照某种顺序排列

对于第一个操作，即：
$$
\binom{n}{r}
$$
对于第二个操作，我们可以假设有 $r$ 个空格，我们的目的是将 $r$ 个物品不取回地放入，那么对于第一个格子，我们有 $r$ 个选法；对于第二个格子，我们有 $r - 1$ 个选法；以此类推，对于最后一个格子我们只有 $1$ 种选法，由计数的乘法原理。我们可以知道有选法：
$$
r!
$$


由计数的乘法原理：
$$
P(n, r) = {r!}{\binom{n}{r}}
$$
那么：
$$
\binom{n}{r} = \frac{P(n, r)}{r!}
$$
证毕！



### 组合的对偶性

设 $S$ 是 $n$ 元素集合，那么它的一个 $r$ 组合（也称 $r$ 子集） 就表示集合 $S$ 的一个由无序选择得到的大小为 $r$​ 的子集。

有性质：
$$
\binom{n}{r} = \binom{n}{n - r}
$$
证明：
~~我们可以直接将 公式(1) 带入~~

假设我们有一个集合 $S$ ，它有 $n$ 个不同的元素。那么，当我们在 $S$ 中选取 $r$ 个元素时，我们同时也定义了一个大小为 $n-r$ 的子集，该子集就是 $S$ 中未被选中的元素。所以，每个 $r$ 元素的组合都对应了一个唯一的 $n-r$ 元素的组合（就是那些未被选取的元素), 反之亦然。

证毕！



### 帕斯卡公式

对于所有满足 $1 \leq r \leq n - 1$ 的整数 $n$ 和 $r$，有：
$$
\binom{n}{r} = \binom{n - 1}{r} + \binom{n - 1}{r - 1}
$$
证明：
对于从 $n$ 元素集合 $S$ 中无序地选择 $r$ 个元素，我们可以由 **动态规划（Dynamic Programming, DP）** 的思想，

假设 $f(i, j)$ 表示对于前第 $[1,i]$ 个元素，我们选择了 $j$ 个元素的选择方式的次数。

那么对于当前状态（第 $i$ 个元素），我们有两种选择：

- 选择当前元素
- 不选择当前元素

那么对应的状态来源有：

- $f(i - 1, j - 1)$
- $f(i - 1, j)$

得到状态转移方程：
$$
f(i, j) = f(i - 1, j) + f(i - 1, j - 1)
$$
证毕！

接下来我们采用 **组合推理证明（Combinatorial Proof）**
对于一个 $n$ 元素集合 $S$，我们指定 $S$ 中的一个元素为 $x$，排除掉 $x$ 后的集合为 $S\setminus\{x\}$。

我们将 $S$ 的 $r$ 子集划分为两部分：

- $A$ ($S\setminus\{x\}$ 的 $r$ 子集的数目)
- $B$ (包含 $x$ 的 $r$ 子集的数目)

由计数的加法原理，我们知道：
$$
\binom{n}{r} = A + B
$$
且：
$$
A = \binom{n - 1}{r}
$$

$$
B = \binom{n - 1}{r - 1}
$$

那么：
$$
\binom{n}{r} = \binom{n - 1}{r} + \binom{n - 1}{r - 1}
$$
证毕！



### 二项式系数

有性质：
$$
\sum_{k=0}^n \binom{n}{k} = 2^n
$$
证明：
对于一个 $n$ 元素集合 $S$ ，它的所有子集一定可以划分为 $0$ 子集， $1$ 子集 ... $n$ 子集。

那么 $\sum_{k=0}^n \binom{n}{k}$ 其实就是 $S$ 的所有子集。

那么我们可以将 $S$ 的所以元素展开，每个元素有两种选择：

-  选
- 不选

所以一共有 $2^n$ 种选法。

证毕！

